{% extends "base.html" %}

{% block title %}Donate - Aim for the Stars{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8 text-center">
            <!-- Thank you message -->
            <div class="mb-5">
                <h1 class="display-4 text-with-shadow mb-4" style="color: white;">Thank You!</h1>
                <p class="lead" style="color: whitesmoke;">
                    Your support helps me focus on maintaining and improving My Inner Scope, 
                    ensuring you have the best self-reflection experience possible.
                </p>
            </div>

            <!-- Buy Me a Coffee Button (always visible) -->
            <div class="donate-widget-container mb-5">
                <div class="card bg-dark donate-card" style="color: white;">
                    <div class="card-body">
                        <h3 class="card-title mb-4" style="color: white;">Support the Journey</h3>
                        <p class="card-text mb-4" style="color: whitesmoke;">
                            Every donation, no matter the size, helps keep this platform running and improving.
                        </p>
                        <a href="https://buymeacoffee.com/papapandroni" target="_blank" class="btn btn-lg mt-3" style="background-color: #00d4ff; color: #171A25; border: none; font-weight: bold; font-size: 1.3rem; padding: 16px 40px; border-radius: 8px; box-shadow: 0 4px 16px rgba(0,0,0,0.3); transition: background 0.2s;">
                            â˜• Buy Me a Coffee
                        </a>
                        <div id="bmc-widget-wrapper" class="bmc-widget-wrapper mt-4"></div>
                        <div id="bmc-widget-error" style="display:none; color:#ff6384; margin-top:1rem; font-size:1rem;">Widget failed to load? Use the button above!</div>
                    </div>
                </div>
            </div>

            <!-- Additional info -->
            <div style="color: whitesmoke;">
                <p>
                    <i class="fas fa-heart text-danger me-2"></i>
                    Your generosity fuels the development of new features and improvements.
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Try to load the Buy Me a Coffee widget after DOM is ready
window.addEventListener('DOMContentLoaded', function() {
    var script = document.createElement('script');
    script.setAttribute('data-name', 'BMC-Widget');
    script.setAttribute('data-cfasync', 'false');
    script.src = 'https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js';
    script.setAttribute('data-id', 'papapandroni');
    script.setAttribute('data-description', 'Support me on Buy me a coffee!');
    script.setAttribute('data-message', '');
    script.setAttribute('data-color', '#00d4ff');
    script.setAttribute('data-position', 'Right');
    script.setAttribute('data-x_margin', '18');
    script.setAttribute('data-y_margin', '18');
    script.onerror = function() {
        document.getElementById('bmc-widget-error').style.display = 'block';
    };
    document.getElementById('bmc-widget-wrapper').appendChild(script);
    // If widget doesn't load in 5 seconds, show error
    setTimeout(function() {
        var widget = document.querySelector('#bmc-widget-wrapper iframe');
        if (!widget) {
            document.getElementById('bmc-widget-error').style.display = 'block';
        }
    }, 5000);
});
</script>
{% endblock %} 